// Code generated by hertz generator. DO NOT EDIT.

package videos

import (
	videos "HuaTug.com/cmd/api/handlers/video"
	"github.com/cloudwego/hertz/pkg/app/server"
)

/*
 This file will register all the routes of the services in the master idl.
 And it will update automatically when you use the "update" command for the idl.
 So don't modify the contents of the file, or your code will be deleted when it is updated.
*/

// Register register routes based on the IDL 'api.${HTTP Method}' annotation.
func Register(r *server.Hertz) {

	root := r.Group("/", rootMw()...)
	{
		_v1 := root.Group("/v1", _v1Mw()...)
		{
			_publish := _v1.Group("/publish", _publishMw()...)
			_publish.POST("/cancle", append(_videopublishcancleMw(), videos.VideoPublishCancle)...)
			_publish.POST("/complete", append(_videopublishcompleteMw(), videos.VideoPublishComplete)...)
			_publish.POST("/start", append(_videopublishstartMw(), videos.VideoPublishStart)...)
			_publish.POST("/uploading", append(_videopublishuploadingMw(), videos.VideoPublishUploading)...)

		}
		_v1.POST("/stream", append(_videoStreamVideoMv(),videos.VideoStream)...)
		_v1.GET("/recommend/video", append(_videorecommendvideoMw(), videos.RecommendVideo)...)
		//自己添加路由
		{
			_popular :=_v1.Group("/popular")
			_popular.GET("/",videos.VideoPopular)
		}

		{
			_favorite:=_v1.Group("/favorite")
			_favorite.POST("/create",append(_createFavoriteMv(),videos.CreateFavoriteVideo)...)
			_favorite.GET("/list",append(_getFavoriteListMv(),videos.GetFavoroteList)...)
			_favorite.GET("/video/list",append(_getFavoriteVideoMv(),videos.GetFavoriteVideoList)...)
			_favorite.GET("/video",append(_getVideoFromFavoriteMv(),videos.GetFavoriteVideo)...)
			_favorite.POST("/video/add",append(_addFavoriteVideoMv(),videos.AddVideoToFavorite)...)
			_favorite.DELETE("/delete",append(_deleteFavoriteMv(),videos.DeleteFavorite)...)
			_favorite.DELETE("/video/delete",append(_deleteVideoFromFavoriteMv(),videos.DeleteVideoFromFavorite)...)
		}

		{
			_shared:=_v1.Group("/share")
			_shared.POST("/video",append(_sharedVideoMv(),videos.SharedVideo)...)

		}

		{
			_video := _v1.Group("/video", _videoMw()...)
			_video.GET("/feed", append(_feedserviceMw(), videos.FeedService)...)
			_video.GET("/list", append(_videofeedlistMw(), videos.VideoFeedList)...)
			_video.GET("/popular", append(_videopopularMw(), videos.VideoPopular)...)
			_video.POST("/search", append(_videosearchMw(), videos.VideoSearch)...)
			_video.DELETE("/delete",append(_videodeleteMw(),videos.VideoDelete)...)
		}

		{
			// 视频流和资源代理路由
			_stream := _v1.Group("/stream")
			_stream.GET("/video", videos.VideoStreamProxy)      // 视频流代理
			_stream.GET("/thumbnail", videos.VideoThumbnailProxy) // 缩略图代理
			_stream.GET("/metadata", videos.VideoMetadataProxy)  // 视频元数据
		}

		{
			_visit := _v1.Group("/visit", _visitMw()...)
			_visit.POST("/:id", append(_videoidlistMw(), videos.VideoVisit)...)
		}

		// ========== 以图搜图功能路由 ==========
		{
			_imageSearch := _v1.Group("/image", _authMw()...)
			
			// 图像搜索
			_imageSearch.POST("/search/upload", videos.ImageSearchByUpload)    // 上传图片搜索
			_imageSearch.POST("/search/url", videos.ImageSearchByURL)          // URL图片搜索
			
			// 特征提取
			_imageSearch.POST("/features/extract", videos.ExtractImageFeatures) // 提取特征
			
			// 批量处理
			_imageSearch.POST("/batch/process", videos.BatchImageProcess)       // 批量处理
			
			// 相似度分析
			_imageSearch.POST("/similarity/analysis", videos.SimilarityAnalysis) // 相似度分析
		}
	}
}
